{% extends "dashboard_admin.html" %}
{% block content %}

<h2>Data Gejala</h2>

<a onclick="openAddModal()" class="btn-add btn-add-leaf">Tambah Gejala</a>


<div class="table-wrapper">
    <table class="table-custom">
        <thead>
            <tr>
                <th>ID Gejala</th>
                <th>Nama Gejala</th>
                <th>Kategori</th>
                <th>Aksi</th>
            </tr>
        </thead>

        <tbody>
            {% for g in gejala %}
            <tr>
                <td>{{ g.id_gejala }}</td>
                <td>{{ g.Nama_gejala }}</td>
                <td>{{ g.kategori }}</td>

                <td>
                    <!-- EDIT -->
                    <a href="#" class="action-btn action-edit"
                        onclick="openEditModal(this)"
                        data-id="{{ g.id_gejala }}"
                        data-nama="{{ g.Nama_gejala }}"
                        data-kategori="{{ g.kategori }}"
                        data-action="/gejala/edit/{{ g.id_gejala }}">
                        Edit
                    </a>

                    <!-- HAPUS -->
                    <a href="#" class="action-btn action-delete"
                        onclick="openDeleteModal(this)"
                        data-id="{{ g.id_gejala }}"
                        data-action="/gejala/hapus/{{ g.id_gejala }}">
                        Hapus
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>

    </table>
</div>


<!-- ======================================================
     MODAL TAMBAH GEJALA
========================================================= -->
<div id="modalAdd" class="modal-overlay">
    <div class="modal-box">
        <span class="modal-close" onclick="closeAddModal()">&times;</span>
        <h3>Tambah Gejala</h3>

        <form action="{{ url_for('tambah_gejala') }}" method="POST">

            <label>ID Gejala</label>
            <input type="text" name="id_gejala" required>

            <label>Nama Gejala</label>
            <input type="text" name="nama_gejala" required>

            <label>Kategori</label>
            <input type="text" name="kategori" required>

            <button type="submit" class="btn-modal-submit">Simpan</button>
        </form>
    </div>
</div>



<!-- ======================================================
     MODAL EDIT GEJALA
========================================================= -->
<div id="modalEdit" class="modal-overlay">
    <div class="modal-box">
        <span class="modal-close" onclick="closeEditModal()">&times;</span>
        <h3>Edit Gejala</h3>

        <form id="formEdit" action="/gejala/edit" method="POST">

            <label>ID Gejala</label>
            <input type="text" id="edit_id" name="id_gejala" readonly>

            <label>Nama Gejala</label>
            <input type="text" id="edit_nama" name="nama_gejala" required>

            <label>Kategori</label>
            <input type="text" id="edit_kategori" name="kategori" required>

            <button type="submit" class="btn-modal-submit">Simpan Perubahan</button>
        </form>
    </div>
</div>



<!-- ======================================================
     MODAL HAPUS GEJALA
========================================================= -->
<div id="modalDelete" class="modal-overlay">
    <div class="modal-box small">
        <span class="modal-close" onclick="closeDeleteModal()">&times;</span>

        <h3>Hapus Gejala</h3>
        <p>Apakah Anda yakin ingin menghapus ID: <b id="delete_id_show"></b> ?</p>

        <form id="deleteForm" method="POST">
            <input type="hidden" id="delete_id" name="id_gejala">

            <div class="modal-btn-row">
                <button type="button" class="btn-cancel" onclick="closeDeleteModal()">Batal</button>
                <button type="submit" class="btn-delete">Hapus</button>
            </div>
        </form>
    </div>
</div>




<script src="{{ url_for('static', filename='js/modal_universal.js') }}"></script>

{% endblock %}
